[test]
# CRITICAL: Global polyfills must be loaded FIRST
# These are needed for modules like react-test-renderer that access globals during module load
preload = ["./src/runtime/__tests__/setup.ts"]

# Exclude native JSI tests (they run in native environment, not Bun)
# Files named *.native.js are for native runtime testing
# Also exclude sandbox_test.js in native directories (these test JSI bindings)
exclude = [
  "**/*.native.js",
  "**/native/**/sandbox_test.js"
]

# Coverage settings
coverage = true
coverageReporter = ["text", "lcov"]

# Increased timeout to handle Worker-based hard timeout tests that need time to interrupt
# and to wait for WorkerQuickJSProvider initialization with quickjs-emscripten WASM module
timeout = 15000

