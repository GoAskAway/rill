[test]
# CRITICAL: Global polyfills must be loaded FIRST
# These are needed for modules like react-test-renderer that access globals during module load
preload = ["./src/host/__tests__/setup.ts"]

# Exclude native JSI tests (they run in native environment, not Bun)
# Files named *.native.js are for native runtime testing
# Also exclude sandbox_test.js in native directories (these test JSI bindings)
# Exclude *.rn.test.ts files (React Native specific tests, run in RN environment)
# Exclude entire tests/rn-integration directory (standalone RN test project)
exclude = [
  "**/*.native.js",
  "**/native/**/sandbox_test.js",
  "**/*.rn.test.ts",
  "tests/rn-integration/**"
]

# Coverage settings
coverage = true
coverageReporter = ["text", "lcov"]

# Increased timeout to handle Worker-based hard timeout tests that need time to interrupt
# and to wait for WorkerQuickJSProvider initialization with quickjs-emscripten WASM module
timeout = 15000

