/**
 * Sandbox Runtime Bundle (Auto-generated)
 *
 * DO NOT EDIT - Generated by src/sandbox-runtime/build.ts
 * Run: bun src/sandbox-runtime/build.ts
 *
 * This is the compiled sandbox runtime that provides:
 * - React shims (createElement, hooks, etc.)
 * - Console setup
 * - Runtime helpers (event communication)
 * - DevTools integration
 *
 * Size: 10.12 KB (minified)
 */

export const SANDBOX_RUNTIME_CODE =
  '(()=>{var{defineProperty:t,getOwnPropertyNames:IB,getOwnPropertyDescriptor:RB}=Object,xB=Object.prototype.hasOwnProperty;var VB=new WeakMap,fB=(B)=>{var Q=VB.get(B),Y;if(Q)return Q;if(Q=t({},"__esModule",{value:!0}),B&&typeof B==="object"||typeof B==="function")IB(B).map((Z)=>!xB.call(Q,Z)&&t(Q,Z,{get:()=>B[Z],enumerable:!(Y=RB(B,Z))||Y.enumerable}));return VB.set(B,Q),Q};var vB=(B,Q)=>{for(var Y in Q)t(B,Y,{get:Q[Y],enumerable:!0,configurable:!0,set:(Z)=>Q[Y]=()=>Z})};var hB={};vB(hB,{wrapRender:()=>QB,useState:()=>w,useRef:()=>R,useReducer:()=>x,useMemo:()=>L,useId:()=>f,useEffect:()=>v,useContext:()=>A,useCallback:()=>H,setSendEventToHost:()=>i,setScheduleRender:()=>I,setRegisterComponentType:()=>m,setGetConfig:()=>r,setDebugMode:()=>n,setCurrentInstanceId:()=>BB,sendEventToHost:()=>l,scheduleRender:()=>_,removeEventListener:()=>TB,isValidElement:()=>j,isDebugMode:()=>HB,installGlobalErrorHandlers:()=>a,initializeSandboxRuntime:()=>uB,hooksState:()=>K,handleHostMessage:()=>wB,getInstanceHooks:()=>W,getCurrentInstanceId:()=>T,getConfig:()=>LB,flushEffects:()=>p,dispatchEvent:()=>MB,depsEqual:()=>S,debugWarn:()=>yB,debugLog:()=>NB,createUseHostEvent:()=>o,createSandboxConsole:()=>c,createSafeShim:()=>E,createElement:()=>G,createDevToolsGuestAPI:()=>s,createContext:()=>C,cloneElement:()=>b,addEventListener:()=>jB,View:()=>qB,TouchableOpacity:()=>FB,TextInput:()=>GB,Text:()=>OB,Switch:()=>_B,ScrollView:()=>zB,ReactNative:()=>z,ReactJSXRuntime:()=>M,ReactJSXDevRuntime:()=>UB,React:()=>y,RILL_FRAGMENT_MARKER:()=>d,RILL_ELEMENT_MARKER:()=>D,PureComponentClass:()=>ZB,PureComponent:()=>P,Image:()=>KB,Fragment:()=>N,FlatList:()=>XB,ComponentClass:()=>YB,Component:()=>X,Children:()=>g,Button:()=>JB,ActivityIndicator:()=>WB});var d="__rill_fragment__",D="__rill_react_element__";var K={instances:new Map,pendingEffects:[],idCounter:0,isRendering:!1,contexts:new Map,rootElement:null,sendToHost:null},DB;function T(){return DB??"__default__"}function BB(B){DB=B}function W(){let B=T(),Q=K.instances.get(B);if(Q!==void 0)return Q;let Y={states:[],refs:[],memos:[],effects:[],ids:[],index:0};return K.instances.set(B,Y),Y}function S(B,Q){if(B===Q)return!0;if(B===void 0||Q===void 0)return!1;if(B.length!==Q.length)return!1;for(let Y=0;Y<B.length;Y++)if(!Object.is(B[Y],Q[Y]))return!1;return!0}function p(){let B=K.pendingEffects;K.pendingEffects=[];for(let Q of B)CB(Q)}function CB(B){let{instanceId:Q,index:Y,effect:Z,prevCleanup:$}=B;if(typeof $==="function")try{$()}catch(O){console.error("[rill] Effect cleanup error:",O)}try{let O=Z(),U=K.instances.get(Q)?.effects[Y];if(U!==void 0)U.cleanup=O}catch(O){console.error("[rill] Effect error:",O)}}var e=null;function I(B){e=B}function _(){if(K.isRendering)return;K.isRendering=!0;for(let B of K.instances.values())B.index=0;try{if(e!==null)e();else console.warn("[rill:shim] scheduleRender: no external scheduler set")}finally{K.isRendering=!1}}function w(B){let Q=W(),Y=Q.index++,Z=T();if(Y>=Q.states.length){let O=typeof B==="function"?B():B;Q.states.push(O)}let $=(O)=>{let q=K.instances.get(Z);if(q===void 0)return;let U=q.states[Y],F=typeof O==="function"?O(U):O;if(!Object.is(F,U))q.states[Y]=F,_()};return[Q.states[Y],$]}function R(B){let Q=W(),Y=Q.index++;if(Y>=Q.refs.length)Q.refs.push({current:B});return Q.refs[Y]}function L(B,Q){let Y=W(),Z=Y.index++,$=Y.memos[Z];if($!==void 0&&S($.deps,Q))return $.value;let O=B();return Y.memos[Z]={deps:Q,value:O},O}function H(B,Q){return L(()=>B,Q)}function x(B,Q,Y){let Z=Y!==void 0?Y(Q):Q,[$,O]=w(Z),q=H((U)=>{O((F)=>B(F,U))},[B]);return[$,q]}function f(){let B=W(),Q=B.index++;if(Q>=B.ids.length){let Z=`rill:r${++K.idCounter}`;B.ids.push(Z)}let Y=B.ids[Q];if(Y===void 0)throw Error("[rill] useId: ID not found at index");return Y}function v(B,Q){let Y=W(),Z=Y.index++,$=T(),O=Y.effects[Z];if(O===void 0||Q===void 0||!S(O.deps,Q)){Y.effects[Z]={effect:B,deps:Q,cleanup:void 0};let U={instanceId:$,index:Z,effect:B,prevCleanup:O?.cleanup};K.pendingEffects.push(U)}}function A(B){let Q=K.contexts.get(B);if(Q!==void 0)return Q;return B._currentValue}function QB(B){return(Q,Y)=>{for(let Z of K.instances.values())Z.index=0;if(K.rootElement=Q,K.sendToHost=Y,B(Q,Y),K.pendingEffects.length>0)Promise.resolve().then(p).catch((Z)=>{console.error("[rill] Effect flush error:",Z)})}}class X{props;state;static getDerivedStateFromError=null;constructor(B){this.props=B,this.state={}}setState(B,Q){let Y=typeof B==="function"?B(this.state,this.props):B;if(this.state={...this.state,...Y},_(),Q!==void 0)Promise.resolve().then(Q).catch((Z)=>{console.error("[rill] setState callback error:",Z)})}forceUpdate(B){if(_(),B!==void 0)Promise.resolve().then(B).catch((Q)=>{console.error("[rill] forceUpdate callback error:",Q)})}render(){return null}}class P extends X{isPureReactComponent=!0}var YB=X,ZB=P;var C=(B)=>{let Q={_currentValue:B,Provider:kB(),Consumer:mB()};return Q.Provider.__context=Q,Q.Consumer.__context=Q,Q};function kB(){let B=(Q)=>{let Y=B.__context;return K.contexts.set(Y,Q.value),Q.children};return B.__context=void 0,B}function mB(){let B=(Q)=>{let Y=B.__context,Z=A(Y);return Q.children(Z)};return B.__context=void 0,B}var $B=null;function m(B){$B=B}var G=(B,Q,...Y)=>{let Z;if(Y.length>0)Z=Y.length===1?Y[0]:Y;else if(Q!==null&&"children"in Q){let U=Q.children;if(U!==void 0)Z=U}let $={};if(Q!==null){for(let U of Object.keys(Q))if(U!=="children")$[U]=Q[U]}if(Z!==void 0)$.children=Z;let O;if(typeof B==="function"){let U=null;if($B!==null)U=$B(B);if(U!==null)O={__rillComponentId:U,displayName:B.displayName??B.name??"Anonymous"};else O=B}else O=B;return{__rillTypeMarker:D,type:O,props:$}},N=d,j=(B)=>{return typeof B==="object"&&B!==null&&"__rillTypeMarker"in B&&B.__rillTypeMarker===D},b=(B,Q,...Y)=>{if(!j(B))return B;let Z={...B.props};if(Q!==void 0)for(let $ of Object.keys(Q))Z[$]=Q[$];if(Y.length>0)Z.children=Y.length===1?Y[0]:Y;return{__rillTypeMarker:D,type:B.type,props:Z}};function k(B){if(B===null||B===void 0)return[];if(Array.isArray(B))return B;return[B]}var g={map(B,Q){return k(B).map(Q)},forEach(B,Q){k(B).forEach(Q)},count(B){return k(B).length},only(B){let Q=k(B);if(Q.length!==1)throw Error("React.Children.only expected one child");let Y=Q[0];if(!j(Y))throw Error("React.Children.only expected a React element");return Y},toArray(B){return k(B)}};var y={createElement:G,Fragment:N,isValidElement:j,cloneElement:b,Children:g,useState:w,useRef:R,useMemo:L,useCallback:H,useReducer:x,useId:f,useEffect:v,useContext:A,createContext:C,Component:X,PureComponent:P},M={jsx:G,jsxs:G,jsxDEV:G,Fragment:N},UB=M;var z={View:"View",Text:"Text",Image:"Image",ScrollView:"ScrollView",TouchableOpacity:"TouchableOpacity",Button:"Button",ActivityIndicator:"ActivityIndicator",FlatList:"FlatList",TextInput:"TextInput",Switch:"Switch"},qB=z.View,OB=z.Text,KB=z.Image,zB=z.ScrollView,FB=z.TouchableOpacity,JB=z.Button,WB=z.ActivityIndicator,XB=z.FlatList,GB=z.TextInput,_B=z.Switch;function c(B){let Q=new Map,Y=new Map,Z=0;function $(q){if(Z===0)return q;let U="  ".repeat(Z);if(q.length>0&&typeof q[0]==="string")return[U+q[0],...q.slice(1)];return[U,...q]}return{log(...q){B.log(...$(q))},warn(...q){B.warn(...$(q))},error(...q){B.error(...$(q))},debug(...q){B.debug(...$(q))},info(...q){B.info(...$(q))},trace(...q){B.log(...$(["Trace:",...q]))},dir(q){B.log(q)},table(q){B.log("[table]",q)},group(...q){B.log(...$(q)),Z++},groupCollapsed(...q){B.log(...$(["[collapsed]",...q])),Z++},groupEnd(){if(Z>0)Z--},clear(){B.log("[clear]")},count(q){let U=q??"default",J=(Y.get(U)??0)+1;Y.set(U,J),B.log(...$([`${U}: ${J}`]))},countReset(q){let U=q??"default";Y.set(U,0)},assert(q,...U){if(!q)B.error(...$(["Assertion failed:",...U]))},time(q){let U=q??"default";Q.set(U,Date.now())},timeEnd(q){let U=q??"default",F=Q.get(U);if(F!==void 0){let J=Date.now()-F;B.log(...$([`${U}: ${J}ms`])),Q.delete(U)}else B.warn(...$([`Timer \'${U}\' does not exist`]))},timeLog(q,...U){let F=q??"default",J=Q.get(F);if(J!==void 0){let h=Date.now()-J;B.log(...$([`${F}: ${h}ms`,...U]))}else B.warn(...$([`Timer \'${F}\' does not exist`]))}}}var V=new Map;function jB(B,Q,Y){let Z={callback:Q,once:Y?.once??!1},$=V.get(B);if($===void 0)$=new Set,V.set(B,$);return $.add(Z),{unsubscribe(){if($?.delete(Z),$?.size===0)V.delete(B)}}}function TB(B,Q){let Y=V.get(B);if(Y===void 0)return;for(let Z of Y)if(Z.callback===Q){Y.delete(Z);break}if(Y.size===0)V.delete(B)}function MB(B,Q){let Y=V.get(B);if(Y===void 0)return;let Z=Array.from(Y);for(let $ of Z)try{if($.callback(Q),$.once)Y.delete($)}catch(O){console.error(`[rill] Event handler error for \'${B}\':`,O)}if(Y.size===0)V.delete(B)}function wB(B){let{type:Q,payload:Y}=B;MB(Q,Y)}var AB=null;function i(B){AB=B}function l(B,Q){if(AB!==null)AB(B,Q);else console.warn("[rill] sendEventToHost: no handler set")}function o(){return(B,Q)=>{return jB(B,Q)}}var PB=null;function r(B){PB=B}function LB(){if(PB!==null)return PB();return{}}function s(){return{captureError(B,Q){let Y=bB(B,Q);l("devtools:error",Y)}}}function bB(B,Q){if(B instanceof Error)return{message:B.message,stack:B.stack,context:Q};return{message:String(B),context:Q}}function a(B){globalThis.__rill_devtools_guest=B}var u=!1;function n(B){u=B}function HB(){return u}var gB=new Set(["then","toJSON","valueOf","toString","constructor","prototype","length",Symbol.iterator,Symbol.toStringTag,Symbol.toPrimitive]);function E(B,Q){if(typeof Proxy>"u")return Q;return new Proxy(Q,{get(Y,Z){if(typeof Z==="symbol"||gB.has(Z))return Reflect.get(Y,Z);if(typeof Z==="string"&&Z.startsWith("$$"))return Reflect.get(Y,Z);if(!(Z in Y)){let $=`[rill:shim] ${B}.${String(Z)} does not exist! Check if shims need updating.`;if(u)throw Error($);else console.error($)}return Reflect.get(Y,Z)}})}function NB(...B){if(u)console.log("[rill:debug]",...B)}function yB(...B){if(u)console.warn("[rill:debug]",...B)}function uB(B){let{debug:Q=!1,consoleCallbacks:Y,sendEventToHost:Z,getConfig:$,scheduleRender:O,registerComponentType:q}=B;n(Q);let U=globalThis,F=c(Y);U.console=F;let J=Q?E("React",y):y,h=Q?E("ReactJSXRuntime",M):M,EB=Q?E("ReactNative",z):z;if(U.React=J,U.ReactJSXRuntime=h,U.ReactJSXDevRuntime=h,U.ReactNative=EB,Z!==void 0)i(Z);if($!==void 0)r($);if(O!==void 0)I(O);if(q!==void 0)m(q);U.__useHostEvent=o(),U.__getConfig=$??(()=>({})),U.__sendEventToHost=Z;let SB=s();a(SB),U.__REACT_SHIM__=!0,U.__RILL_DEBUG__=Q,U.__RILL_GUEST_ENV__=!0}})();\n';

/**
 * Size in bytes (for monitoring)
 */
export const SANDBOX_RUNTIME_SIZE = 10362;

/**
 * Is debug build
 */
export const SANDBOX_RUNTIME_DEBUG = false;
